@Test
@Tag("FheCompression")
void compression() {
  logger.trace("compression");

  {{testValue tested}}
  {{tested.className}} encrypted = {{tested.className}}.encrypt(originalValue, keySet.clientKey());
  {{tested.compressedClassName}} compressed = encrypted.compress();
  {{tested.className}} decompressed = compressed.decompress();
  {{tested.dataClass.simpleName}} decrypted = decompressed.decrypt(keySet.clientKey());

  assertThat(decrypted).isEqualTo(originalValue);
}
